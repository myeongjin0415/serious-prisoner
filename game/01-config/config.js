// setup 객체 정의
/* 1. 설정 및 헬퍼 함수 */
setup.timelineStartConf = { hour: 8, min: 0 }; // 시작 기준점

setup.formatTime = (h, m) => String(h).padStart(2, '0') + ':' + String(m).padStart(2, '0');
setup.pad = (n) => String(n).padStart(2, '0');

/* 2. 타임라인 데이터 입력 (순서 섞여도 OK, 시간만 정확히 입력하세요) */
setup.rawTimeline = [
  {
    hour: 6, min: 30,
    scripts: [
      "복도에서 기다리고 있었더니 간호사장 로봇이 뚜벅뚜벅 걸어와 앞에 선다. '어젯밤의 퇴원자 명단을 발표하겠습니다. B동 208호 맥케이 환자 분.' 복도에 로봇의 기계음성이 울린다. 그것의 얼굴 부분에 달린 디스플레이에는 경쾌하게 웃는 얼굴이 표시되어 있다. '208호라면 내 맞은 편의 호실이군. 그 아저씨 이름이 (맥케이:06-30->1 #CLUE_B)였나. ' 복도에서 작은 속삭임이 오가지만...",
      "맥케이 기억 돌아옴."
    ]
  },
  {
    hour: 7, min: 0,
    scripts: [
      "건강검진이 끝나면 아침밥을 먹을 수 있다. 환자들이 우르르 계단을 내려가기 시작하고 나도 그 흐름을 따라 1층 식당으로 향한다. 계단을 내려가면서 복도를 보니 '뇌건강 유지법', '기억력에 좋은 음식 탑 10' 따위의 포스터가 붙어 있다. 식당에 도착하니 이미 배식대 앞에 한줄 서기로 줄이 길게 늘어서 있다. A동의 환자들이 먼저 온 모양이다. 나는 줄 끝에 서서 차례를 기다린다. 행렬 중간의 안내판에는 오늘의 조식 메뉴는 토스트와 샐러드, 수프라고 적혀 있다. 배식 차례가 될 때 까지 달리 할 것도 없어서 뒤에 선 사람의 이름표를 본다. '캐서린' 이라는 이름의 중년 여성이 나와 눈을 마주치고 서로 눈인사를 한다. 기왕이면 [잡담이라도 할까:07-00->1, 07-15->1, 07-30->1, 07-45->1] 생각하다가도 어쩌피 몇일이 지나면 까먹을 사람들과 친해지는 것 만큼 의미 없는 일도 없다고 생각이 든다.",
      "건강검진이 끝나면 아침밥을 먹을 수 있다. 환자들이 우르르 계단을 내려가기 시작하고 나도 그 흐름을 따라 1층 식당으로 향한다. 계단을 내려가면서 복도를 보니 '뇌건강 유지법', '기억력에 좋은 음식 탑 10' 따위의 포스터가 붙어 있다. 식당에 도착하니 이미 배식대 앞에 한줄 서기로 줄이 길게 늘어서 있다. A동의 환자들이 먼저 온 모양이다. 나는 줄 끝에 서서 차례를 기다린다. 행렬 중간의 안내판에는 오늘의 조식 메뉴는 토스트와 샐러드, 수프라고 적혀 있다. 배식 차례가 될 때 까지 달리 할 것도 없어서 뒤에 선 사람의 이름표를 본다. '캐서린' 이라는 이름의 중년 여성이 나와 눈을 마주치고 서로 눈인사를 한다. 기왕이면 잡담이라도 할까. 나는 먼저 캐서린에게 인사를 건낸다. '좋은 아침입니다 캐서린씨.'"
    ]
  },
  {
    hour: 7, min: 15,
    scripts: [
      "내 차례가 되어서 배식 로봇이 식판에 음식을 담아준다. 로봇처럼 정확한 배식, 단 1g도 틀리지 않고 공평하게 나누어주기 때문에 흥정의 여지는 없다. 오랜지 주스가 담긴 종이컵도 식판에 올라온다. 식판을 들고 자리를 찾으니 창가 쪽 테이블에 빈자리가 보인다. 사실 창가라도 해도 이 건물에는 제대로된 창문이 없고 그냥 창문틀만 벽에 붙어 있을 뿐이다. 바깥쪽은 콘트리트로 막혀 있다. 자외선이 기억력에 안좋기 때문이라고 하는데, 밖의 모습을 보지 못하는 것은 조금 섭섭하다. 대신 자유시간에 모형 공원에 가면 그나마 실외로 나간 기분이라도 들기 때문에 상쾌해진다. 오늘 자유시간에도 가보는 것도 좋겠다. 테이블에 앉아서 아침식사인 토스트를 한입 베어무니 버터향이 나고 바삭해서 맛이 있다. 샐러드도 신선하고 좋다.",
      "캐서린과 대화 1"
    ]
  },
  {
    hour: 7, min: 30,
    scripts: [
      "아침식사에 열중하고 있는 누군가가 내게 말을 건다. '여기 앉아도 될까요? 고개를 들어보니 젊은 남자 환자가 식판을 들고 있었다. '데이비드' 그의 이름이다. '네, 그럼요. 합석하시죠.' 내가 대답하자 그가 맞은 편에 앉는다. 데이비드는 식판을 내려놓고 포크를 든다. '오늘 날씨가 좋죠?' 그가 말한다. 속으로 창문도 없는 이 곳에서 날씨를 대체 어떻게 알겠냐고 반문했지만 굳이 입밖으로 꺼내지는 않는다. 형식상의 인사에 [말꼬리를 잡고 늘어지고:07-30->2, 07-45->2] 싶지 않다. '네, 그러게요.' 나는 짧게 대답한다. 뭔가 더 대꾸를 할까 생각하다가 이내 그만 둔다. 우리는 말없이 각자 식사를 한다. 식사를 마치고 오렌지 주스를 마시니 상큼한 맛이 입을 개운하게 한다. 데이비드는 이미 식사를 마치고 일어날 준비를 하고 있다. ",
      "캐서린과 대화 2",
      "데이비드 붙잡기 1"
    ]
  },
  {
    hour: 7, min: 45,
    scripts: [
      "매튜 기억 돌아옴.",
      "캐서린과 대화 3",
      "데이비드 붙잡기 2"
    ]
  },
  {
    hour: 8, min: 15,
    scripts: [
      "설명서의 첫 번째 단계는 작은 원형 플라스틱인 조각 A에 전동 드릴로 구멍을 내는 것이다. 나는 공구통에서 드릴을 꺼내서 버튼을 눌러 작동시켜본다. 꽤 위험해 보이는 모양새와는 다르게 회전수가 미리 조정되어 있는지 최대한 버튼을 눌러봐도 돌아가는 속도가 매우 느리다. 이걸로 [누군가를 해치:08-15->1, 08-30->1, 09-00->1, 09-15->1, 09-30->1, 10-00->1, 11-00->1, 11-15->2,11-30->2, 11-45->1]는 것은 불가능해보인다. 조각 A의 가장 자리에 구멍 4개를 낸 뒤, 긴 막대 모양의 조각 B를 4개 꺼낸다. 막대를 드릴로 낸 구멍에 끼워보니 딸깍 하는 소리와 함께 잘 끼워진다. 생각보다 쉽게 조립할 수 있게 되어 있다. 다음 단계로 넘어가서, 조각 C를 찾아서 손에 쥔다. 빨간색 플라스틱 덮개다. 미리 구멍이 4개 나있어서 막대들을 끼워넣기 적당해 보인다.",
      "때리기 충동 루트 1"
    ]
  },
  {
    hour: 8, min: 30,
    scripts: [
      "옆에 앉은 마거릿이 부품을 붙잡고 낑낑거리는 소리가 들린다. 고개를 돌려보니, 그녀가 나사를 돌리려고 애쓰고 있다. 나와는 다른 종류의 장난감을 조립 중인 것 같다. 손에 힘이 없어보여 꽤 안타깝다는 생각이 든다. '조금 도와드릴까요?' 내가 묻자 그녀가 조개를 저었다. '괜찮아 총각. 천천히 하면 되니까...' 그녀는 다시 나사를 똑바로 새우는 것에 집중한다. 나도 내 작업으로 다시 돌아간다. 부품 C를 끼우는 것은 생각보다 힘이 들었다. 설명서에 따르면 부품이 부서질 정도로 센 힘으로 끼워 넣어야 제대로 들어간다고 한다. 이런 작업에 배정하다니, 로봇들이 보기엔 내가 꽤 힘을 쓰는 사람 처럼 보였나보다. 다행히도 아침을 든든히 먹은 것 때문에 어렵지 않게 힘을 쓸 수 있었다. ",
      "때리기 충동 루트 2"
    ]
  },
  {
    hour: 9, min: 0,
    scripts: [
      "내가 설명서를 차레로 따라가면서 내 작업을 순조롭게 완료하고 있는 동안, 작업장 내부는 조용하다. 잡담을 하는 사람은 거의 없고, 부품을 끼우는 소리, 나사 조이는 소리, 가끔 누군가가 기침하는 소리만 들린다. 가끔 관리 로봇이 사뿐사뿐 주위를 걸어다니지만 소리도 안나고 눈에 거슬리지도 않기 때문에 집중하지 않으면 바로 옆에 와도 알아차리기 힘들 정도다. 이 작업에서 할당량을 채우면 '포인트'를 얻는다. 현금처럼 실체가 있는 개념은 아니고, 그냥 환자 이름에 걸리는 크래딧이다. 이 포인트를 사용하여 환자들은 다양한 편의시설을 이용할 수 있다. 특히 매점에서는 군것질을 할 수도 있고, 인형이나 카드 같은 장난감을 살 수도 있다. ",
      "때리기 충동 루트 3"
    ]
  },
  {
    hour: 9, min: 15,
    scripts: [
      "마거릿이 드디어 나사를 단단히 끼울 수 있게 되었다. 요령을 파악해서 적은 힘을 들여도 되는 방법을 찾아낸 것 같다. 이 오전 작업은 그 사람이 못할 것 같은 과제는 주지 않는다. 내가 받은 것 처럼 힘을 꽤 써야하는 조립을 요구하는 세트는 아에 마거릿 같은 노인에게는 주어지지 않았을 것이다. 이 작업이 재활치료의 일환인 것 같다는 내 가설이 점점 힘을 얻고 있는 것 같아 어쩐지 기분이 좋다. 그러나 이것을 검증해본 적은 없다. 관리 로봇을 한개 붙잡고 [물어볼까:09-30->2]? '이 오전 작업은 치료와 관련된 것 맞죠? 이런걸 부르는 명칭이 있나요?' 라고 물어보면 내 추리력에 감탄이라도 해주지 않을까? ",
      "때리기 충동 루트 4"
    ]
  },
  {
    hour: 9, min: 30,
    scripts: [
      "그러나 이내 그만두었다. 로봇들은 농담이나 헛소리에는 잘 반응해주면서 이런 걸 물어보면 왠지 대답을 잘 안해준다. 디스플레이에 세상 난처한 표정을 띄우며 '형평성 원리에 따라서 그걸 말씀드리는 건 힘들 것 같아요...' 라는 소리나 해댄다. 이런거 하나 얘기하는게 뭐가 형평성에 어긋나는 걸까? 나는 이게 치료라는 걸 알아도 계속 똑같이 열심히 할텐데. 그런데에 시간을 버릴 바에 하나라도 제품을 더 만들어서 보너스 포인트를 얻는 것이 낫다. 몇일 전의 나는 작업 중에 농땡이를 피웠는지 남아있는 포인트가 별로 없다. 이대로 가다간 비축해 놓은 포인트가 없어서 궁핍한 생활을 보내게 될지도 모른다! 물론 사치를 조금 덜 부리게 되는 거지만 옆자리 사람은 아이스크림을 먹을 때 나만 못먹는다면 정말 아쉬울 것 같다.",
      "때리기 충동 루트 5",
      "질문 루트 1"
    ]
  },
  {
    hour: 9, min: 45,
    scripts: [
      "그나저나 기억나지도 않는 일에 대해서 그 업보를 치르게 되는건 조금 억울하다는 생각이 든다. 기억에도 없는 작업 태만 혹은 과도한 소비로 포인트를 잃은 나 때문에 미래의 내가 더 열심히 일해야 한다니. 불행중 다행인 것은, 나는 그나마 3일 정도는 또렷하게 기억할 수 있는데, 어떤 사람은 어제 기억도 까먹을 정도로 건망증이 심하다고 한다. 3일이면 꽤나 기억력이 좋은 편에 속한다. 혹시 나도 퇴원이 얼마 남지 않은 것 아닐까? 그러면 포인트도 무용지물이 되니까 그 전에 아깝지 않게 다 써둬야 하는데... 어... 과거의 나도 똑같은 생각을 한건가? 기억이 바뀌어도 사람 생각 자체는 똑같은 걸지도 모르겠다. 혹자는 인간의 자아는 기억과 경험에서 부터 비롯된다고 하는데, 나는 예외인 걸지도 모르겠네.",
    ]
  },
  {
    hour: 10, min: 0,
    scripts: [
      "비교적 빠른 페이스로 반복작업을 수행해서, 어느덧 제품을 6개째 조립하고 있다. 점심 전까지 할당량이 10개니까 이 페이스라면 보너스 포인트는 충분히 노릴 수 있을 것 같다. 맞은 편의 토마스는 벌써 아홉개 째를 조립하고 있었다! 정말 빠르다. 손재주가 좋은 걸지도 모르겠다. 마거릿은 2개를 겨우 완성하고 있는 단계에 있다. 천천히 하는 대신, 하나하나를 꼼꼼히 만들고 있는 것 같다. 다행히 로봇들이 평가하는 작업 수행도에는 단순 갯수 뿐 아니라 완성도도 보기 때문에 너무 억울한 일은 없다. '잘 만드셨네요.' 내가 말하자 마거릿이 미소 짓는다. '고마워, 매튜씨...' 그녀가 내 이름표를 보고 말한다. 그 뒤로 따로 대화가 이어지지는 않고 다시 각자의 작업으로 돌아간다. ",
      "때리기 충동 루트 6"
    ]
  },
  {
    hour: 10, min: 15,
    scripts: [
      "관리 로봇이 조용한 걸음으로 이곳 3번 테이블으로 다가온다. 수시로 작업 중에 어려움이 있는 것은 아닌지 환자들에게 도움을 주기 위함이다. 간호사 로봇과 청소로봇이 사람이 걷는 것 처럼 움직인다면, 관리 로봇은 스케이트를 타는 것 처럼 움직인다. 발에 바퀴 같은 것이 달린 것 같다. 불안정한 것이 아닐까? 무심코 생각해 봤지만 다 설계자가 생각이 있었기에 이런식의 이동방식으로 만든 거라는 결론이 먼저 도달해서 다행이 관리 로봇을 [팔꿈치로 밀쳐보거나:10-15->1, 10-30->1] 하지는 않는다. 그래도 혹시 모르지. 엄숙한 표정으로 테이블 사이를 유유히 움직이는 관리 로봇이 우스꽝스럽게 넘어지는 장면은 꽤 볼만 할 것 같기도 하다. ",
      "밀치기 충동 루트 1"
    ]
  },
  {
    hour: 10, min: 30,
    scripts: [
      "'매튜 님 작업은 잘 진행되고 있으신가요?' 내 옆을 지나갈 때 관리 로봇이 내게 말을 건다. 나는 가볍게 고개를 끄덕인다. '후후, 다행입니다. 그 상태 그대로 끝까지 힘내주세요!' 디스플레이에 미소를 띄우며 내 옆으로 미끄러지듯 지나가는 로봇. 마거릿의 곁에 선다. '환자분은 꽤 페이스가 늦는 것 같은데 어떤 문제를 겪고 있으신가요?' 로봇이 걱정스러운 표정을 띄우며 마거릿에게 묻는다. '괜찮아요, 이제 요령을 익혔으니까. 내가 배우는게 좀 늦는 것 같네요. 하하.' 마거릿이 넉살좋게 웃는다. 관리 로봇은 스윽 상태를 살피더니 고개를 끄덕이고는 다음 테이블로 미끄러지듯 이동한다.  ",
      "밀치기 충동 루트 2"
    ]
  },
  {
    hour: 10, min: 45,
    scripts: [
      "내가 만든 완성된 제품은 마치 회전목마 처럼 생겼다. 옆에 달린 태엽을 돌리면 작은 말 모양의 피규어들이 원판 위에서 회전하며 돌아가는 구조다. 내가 예전에 회전목마를 타본 적이 있었는지는 전혀 기억나지 않는다. 건망증에 걸리면 기본적인 상식을 제외한 구체적인 기억이나 경험 같은건 전부 안개속에 가려져 있는 느낌을 받는다. 상식마저도 언제 어떻게 배웠는지 전혀 기억나지 않기 때문에 가끔씩 내가 이 능력을 가지고 있음에 스스로 놀라기도 한다. 이를테면 나는 젓가락질을 완전히 올바른 방법으로 할 줄 아는데 이건 꽤 놀랍다. 어린시절에 젓가락질을 해본적 없는 사람들은 젓가락을 사용하는데에 불편함을 겪는다는 걸 알고 있다. 나에게는 어린 시절에 [젓가락질을 알려준 사람:06-30:0:(맥케이)]이 있던 걸까?",
    ]
  },
  {
    hour: 11, min: 0,
    scripts: [
      "9번째 회전목마를 조립한 뒤 수거함에 넣는다. 이제 할당량 까지는 한개 밖에 안남았고 초과해서도 몇개 만들 수 있을 것 같다. 쉬운 작업이 걸려서 매우 다행이다. 이렇게 차근차근 보너스 포인트로 재산을 축적해나가면 언젠가 다른 사람에게 배풀 수도 있게 될까? 일단 적어도 3일 안에 그런 짓을 한 다른 환자들은 본적이 없다. 다들 자기들 살기도 바쁜데 그럴 여유가 어디 있겠나. 거기에 기억도 오락가락 할텐데. 아무튼 만약에 내가 남은 포인트로 다른 사람들에게 뭔가를 사줄 수 있다면 정말 기쁠 것 같다. 신난 기분에 조각을 빠르게 집어들다가 날카로운 모서리에 손끝을 베였다. 피가 방울방울 지는 걸 보니 꽤 깊게 베었나보다. [관리 로봇에게 말하:11-15->1,11-30->1]는 것이 좋겠다. ",
      "때리기 충동 루트 7 [관리 로봇에게 말하기:11-15->3, 11-30->3]"
    ]
  },
  {
    hour: 11, min: 15,
    scripts: [
      "하지만 장난감 만들다가 다쳤다는 건 꽤 부끄러운 일이라고 생각해서 알리지는 않기로 결정한다. 이정도 상처는 지혈만 잘하면 낫기도 하고. 만약 안전 관리 미흡으로 감점을 받게 된다면 기껏 빠른 페이스로 만들었던 것이 무용지물이 될 가능성도 있다. 이 시설에서 다치게 된다면 즉시 간호사 로봇이 출동해서 환부에 응급처치를 한 뒤 재생 가스를 살포한다. 재생 가스는 효과가 너무 좋아서 왠만한 상처는 몇분 후에 아무일도 없었다는 듯 나아버린다. 이런 작은 상처는 물론이고 부러진 뼈도 다시 붙여버린다고 한다. 어제 복도에서 누가 넘어져서 무릎에 피가나는 것을 간호사 로봇들이 치료하는 것을 봤는데 걱정하는 표정들이 정말 일품이었다. ",
      "말하기 1",
      '때리기 충동 + 말 안하기 1',
      '때리기 충동 + 말하기 1'

    ]
  },
  {
    hour: 11, min: 30,
    scripts: [
      "베인 부위를 잠시 누르고 있었더니 피가 나지 않게 되어서 다시 작업으로 돌아간다. 10개 쯤 만드니 설명서는 읽을 필요도 없어졌다. 이렇게 짧은 시간에는 기억을 잘하는 걸로 봐서 건망증이 심한 것 같지는 않은데 좋은 신호다. 그렇네, 이 작업은 단기기억력을 기르기 위한 치료의 일환이였어. 절차의 반복으로 단기기억력을 강화하고 손의 사용으로 뇌에 자극을 준다. 그런 종류의 치료 기법인 것 같다. 그렇다면 매일 똑같은걸 시켜도 되는 것 아닌가? 하루 단위로 같은 작업을 반복한다면 장기기억에도 도움이 될텐데. 뭐, 이 방식이 로봇들이 찾은 최고로 효율적인 치료법인 것이겠지. 이것에 대해서 물어봐도 '그런건 형평성 원리에 따라...' 따위의 말을 말하면서 안알려줄게 뻔하다.",
      "말하기 2",
      '때리기 충동 + 말 안하기 2',
      '때리기 충동 + 말하기 2'
    ]
  },
  {
    hour: 11, min: 45,
    scripts: [
      "오전 작업이 종료되기 5분 전이 되었다. 나는 최종적으로 13개까지 조립하는 데에 성공했고, 이 회전목마형 장난감들을 모두 오른쪽 수거함에 넣는다. 테이블 중앙의 디스플레이가 제품들을 스캔한 결과를 알려준다. 나는 작업 할당량을 모두 채웠고, 거기에 추가로 3개 더 완료했기 때문에 30포인트를 추가로 얻는다. 마거릿과 토마스는 할당량 이후로는 굳이 만들지 않은 걸로 보인다. 추가 포인트를 받지 못했다. 마거릿은 그렇다고 쳐도 토마스는 몇시간 전에 이미 할당량을 채울 수 있었을 텐데 그 이후로 계속 놀고만 있었던 것 같다. 사람마다 전략이 다른 것 같다. 작업의 끝을 알리는 종소리 방송이 나오자 다들 테이블에서 일어나 밖으로 간다. 이제 점심시간이다.",
      "때리기 충동 8",
    ]
  },
  {
    hour: 12, min: 0,
    scripts: [
      "나도 테이블을 정리하고 일어선다. 복도를 걸어 계단을 내려가는데, 복도가 붐빈다. 점심은 아침을 먹었던 곳과 같은 곳에서 배식 받는다. 지나가면서 다른 환자들이 이야기하는 소리를 들으니, 오늘의 점심 메뉴는 파스타인 것 같다. 식당에 도착하니 벌써 긴 줄이 늘어서 있다. 오늘따라 사람이 많은 것 같다. 줄 끝에 서서 차례를 기다린다. 점심 이후엔 3시 반 까지 자유시간이다. 그 후론 상담사와의 일정을 잡아놨다. 그 사이의 시간에 환자들은 공용공간에 가거나, 영화를 보거나 한다. 매점에 가는 것도 좋은 선택이다. 다만 매점은 항상 인기가 많기 때문에 줄 설 각오는 필요하다. 줄이 빠르게 줄어들고 있다. 앞에 서 있는 키 큰 사람은 내 또래 인것 같은데 [이야기 해볼까:12-15->1, 12-30->1, 12-45->1, 13-00->1]. 이 사람을 오전 작업에서 본 것 같은 기분도 든다. ",
      "때리기 충동 9",
    ]
  },
  {
    hour: 12, min: 15,
    scripts: [
      "그냥 관두기로 했다. 나는 그다지 이야기 하는 걸 좋아하지도 않고. 그 키 큰 남자는 어깨가 약간 축 쳐져 있었는데, 피곤한 걸까? 줄 사이로 다른 환자들의 대화 소리가 들린다. '오늘 작업 어땠어요?' '카드 정리하는 거였는데, 쉬웠어요.' 그들은 웃으며 이야기 한다. 나도 토마스나 마거릿과 조금 더 이야기를 나눴어도 좋았을 텐데. 뭐, 어차피 며칠 지나면 잊어버릴 테지만. 드디어 내 차례가 왔다. 배식 로봇이 식판에 음식을 담아준다. 토마토 소스 파스타다. 빨갛고 윤기가 흐른다. 옆에 시저 샐러드가 추가되고, 마늘빵 한 조각도 올라온다. 오렌지 주스도 받는다. 식판을 들고 자리를 찾는다. 다행히 1인용 테이블에 비어있는 자리가 보였다. ",
      "키큰 사람과 이야기 1",
    ]
  },
  
  {
    hour: 12, min: 30,
    scripts: [
      "카페테리아의 가장 자리 쪽에는 1인용 테이블이 쭉 늘어서 있다. 환자들 중에는 혼자 밥을 먹는 것을 좋아하는 부류도 꽤 있는 것 같고, 나도 그 중에 하나다. 그럼에도 그냥 묵묵히 식사만 하는 것은 심심하기 때문에, 뭔가 공상을 하는걸 좋아한다. 내가 이 시설에서 언젠가 퇴원하게 된다면, 그리고 내가 사회에서 어떤 걸 하고 있던 사람인지 전부 기억하게 된다면 어떨지 생각한다. 나는 뭘 하던 사람이었을까. 학생이었을까, 아니면 직장인? 가족이 있었을까? 친구들은? 아무것도 떠오르지 않고 그저 안개 속이다. 파스타를 한입 먹는다. 토마토 소스가 적당히 달고 짭짤하며 면도 부드럽다. 퇴원하는 사람이 매일 한명 씩은 꼭 있는 걸 봐서는 이 병은 그리 낫기 어려운 것도 아닌데.",
      "키큰 사람과 이야기 2",
    ]
  },
  
  {
    hour: 12, min: 45,
    scripts: [
      "그러고 보면 퇴원 한 사람이 밖에서 어떻게 되었는지에 대한 이야기는 들어본적이 없다. 물론, 들었는데도 잊었을 가능성이 높지만. 이 병이 낫는다는 것은 어떤 느낌일까. 그동안 잊고 있었던 기억이 한번에 돌아오는 느낌일까? 내가 누구였는지, 뭐 하던 사람이었는지 한번에 확 떠오르게 되는 걸까? 그렇게 된다면 간호사 로봇에게 '저 병이 나은거 같아요.' 라고 말하고, 그 다음에 간단한 테스트를 거치고 퇴원 여부를 결정하게 되는 걸까? 그렇다면 이상하다. 분명 내 방 맞은 편에 있던 아저씨. 이름은 이제 기억나지 않지만 그 사람은 어제 점호 시간만 해도 자기가 병이 나았다는 둥의 반응은 보이지 않았는데. 나였으면 꽤나 호들갑 떨면서 좋아했을 사안에 그 정도로 무심하게 반응 할 수 있는건가.",
      "키큰 사람과 이야기 3",
    ]
  },

  {
    hour: 13, min: 0,
    scripts: [
      "이런 저런 생각을 하다 보니 벌써 점심 식사를 마쳤다. 오렌지 주스를 마시니 입안이 상쾌해진다. 식사를 마치고 식판을 반납대에 놓는다. 우선 점심 자유시간에는 매점에 가는 것이 좋을 것 같다. 오전 작업으로 피곤했으니 잠깐의 사치를 부리자. 식판을 반납대에 놓고 식당을 나서니 복도에 환자들이 여기저기 서성이고 있다. 어떤 이들은 이야기를 나누고 어떤 이들은 벤치에 앉아있다. 그러고 보니 이 시설은 내부 구조가 병원과 비슷한 것 치고는 환자들이 굉장히 건강해보인다. 신체적인 문제가 아니라 정신적인 문제, 특히 건망증에 대해서만 취급하기 때문인거 같다. 직원들은 거의 대부분 로봇인데, 이 병은 전염성이 있기 때문이다. 호흡기를 통해서 전염되는 것 같다. 그래서 이런 격리 시설이 필요한 것. ",
      "이런 저런 생각을 하다 보니 벌써 점심 식사를 마쳤다. 오렌지 주스를 마시니 입안이 상쾌해진다. 식사를 마치고 식판을 반납대에 놓는다. 매점은 붐빈다고 하니 [영화관:13-15->1, 13-30->1, 13-45->1, 14-00->1, 14-15->2, 14-30->1, 19-30->1, 19-45->1, 20-00->1, 20-15->1, 20-30->1]에 갈까? 그것도 아니라면 [공용공간:13-15->2, 13-30->2, 13-45->2, 14-00->2, 14-15->3, 14-30->2, 19-30->2, 19-45->2, 20-00->2, 20-15->1, 20-30->1]에 가볼까. 식판을 반납대에 놓고 식당을 나서니 복도에 환자들이 여기저기 서성이고 있다. 어떤 이들은 이야기를 나누고 어떤 이들은 벤치에 앉아있다. 그러고 보니 이 시설은 내부 구조가 병원과 비슷한 것 치고는 환자들이 굉장히 건강해보인다. 신체적인 문제가 아니라 정신적인 문제, 특히 건망증에 대해서만 취급하기 때문인거 같다. 직원들은 거의 대부분 로봇인데, 이 병은 전염성이 있기 때문이다. 호흡기를 통해서 전염되는 것 같다. 그래서 이런 격리 시설이 필요한 것. ",
    ]
  },
  {
    hour: 13, min: 15,
    scripts: [
      "복도를 지나다가 새로운 맛 아이스크림이 들어왔다는 포스트를 봤다. 요거트맛 아이스크림? 너무 궁금해서 결국 매점에 가기로 결정했다. 매점은 1층 식당 반대편 복도 끝에 있다. 매점 앞에 도착하니 예상했던 대로 줄이 길게 늘어서 있다. 최소 스무 명은 되는 것 같다. 모두 새 아이스크림 때문에 온 걸까? 어제도 줄이 길었지만 열 명 근처였지 이 정도로 길지는 않았는데. 나는 행렬의 끝에 서서 내가 현재 몇 포인트를 가지고 있는지 확인해본다. 오늘 오전 작업으로 기본 100포인트를 얻었고, 보너스 30포인트도 얻었기 때문에 총 130 포인트가 있다. 어제 가지고 있던 포인트는 30포인트 남짓이었던 것 같은데, 그럼 총 160 포인트 정도가 있는 것이다.",
      "영화관 1 (메아리:13-15->3 #CLUE_C)",
      "공용공간 1",
      "메아리는 중요 힌트이다.",
    ]
  },
  {
    hour: 13, min: 30,
    scripts: [
      "줄이 느리게 움직인다. 한 사람씩 들어가고 나온다. 매점 내부가 작아서 한 번에 두세 명만 들어갈 수 있다. 매점에서 나오는 사람들은 내 예상대로 요거트맛 아이스크림 콘을 다들 먹고 있다. 혹시 내 차례가 오기 전에 아이스크림이 다 떨어져 버리는 건 아닐까? 그런 낭패가 있으면 안될 텐데... 주변을 둘러본다. 복도 벽에 시계가 걸려있다. 1시 32분. 아직 자유시간이 두 시간 정도 남았으니 여유롭다. 아이스크림 하나 먹는데 30분 정도는 당연히 기다릴 수 있다. 좋아, 줄이 조금씩 앞으로 나아간다. 이제 내 앞에 4명 정도 밖에 남지 않았다.",
      "영화관 2",
      "공용공간 2",
    ]
  },
  {
    hour: 13, min: 45,
    scripts: [
      "드디어 내 차례가 왔다. 매점 문을 열고 들어간다. 작은 공간이다. 벽 한쪽에는 선반이 있고 과자, 음료, 작은 장난감들이 진열되어 있다. 반대편에는 냉장고가 있고 그 안에 아이스크림들이 보인다. 그리고 카운터 뒤에... 사람이 서 있다. 잠깐, 사람? 로봇이 아니라? 나는 깜짝 놀라 그 사람을 본다. 중년 남성이다. 파란색 앞치마를 입고 있다. 얼굴에는 미소가 있다. 디스플레이가 아닌 진짜 얼굴. 그의 이름표에는 '마크'라고 적혀있다. 분명 어제까지만 해도 로봇이 매점 점원이었던 것 같은데! 줄이 천천히 줄어들던 이유가 신기해서 한명씩 마크와 이야기 하느라 그랬던 건가? 이 시설에서 로봇이 아닌 직원을 보는건 이번이 처음이다. 적어도 내가 기억하고 있는 한에선.",
      "영화관 3",
      "공용공간 3",
    ]
  },

  {
    hour: 14, min: 0,
    scripts: [
      "어짜피 내 뒤에는 남은 사람도 없는데, 천천히 물건을 고르자. '뭘 찾으세요?' 마크가 묻는다. 나는 입을 열려다가 다시 닫는다. [물어봐야 하나:14-15->1]? 어떻게 당신이 여기서 일할 수 있는 거냐고? 하지만 왠지 묻기가 망설여진다. 형평성 원리? 아니면 다른 이유? 마크는 환자인가? 매점 직원은 돈 계산을 해야하기 때문에 건망증 걸린 사람은 안될텐데. 포인트로 계산하니까 상관 없나. '아... 아이스크림이요. 새로 나온 거.' 나는 겨우 말한다. 마크가 고개를 끄덕인다. '아, 요거트 맛이요? 인기가 많네요. 오늘 아침에 들어왔는데 벌써 반이나 팔렸어요.' 그가 냉장고를 열고 아이스크림 하나를 꺼낸다. '이거 하나요?' 마크가 묻는다. '네.' 나는 답한다.",
      "영화관 4",
      "공용공간 4",
    ]
  },
  {
    hour: 14, min: 15,
    scripts: [
      "'30포인트입니다.' 마크가 말한다. 나는 손목의 디바이스를 카운터 위 스캐너에 갖다 댄다. 삐 소리가 난다. '결제 완료됐습니다. 맛있게 드세요.' 아이스크림 하나에 일당의 30퍼센트. 상당히 비싸다! 그러나 숙식이 무료이고 포인트라는 것은 결국 진짜 돈이 아니라 작업을 독려 하기 위해서 주는 거니까 이해할 만 한가. 나는 매점에서 나오면서 요거트 맛 아이스크림을 한번 핥아 본다. 헉, 절망적일 정도로 맛이 없다. 이 아이스크림은 확실히 요거트의 맛이 아니다. 이건... 시큼한 맛이 너무 심해서 도저히 맛있게 먹기 힘들 정도다. 다시는 사먹지 않을 것 같다... 포인트가 아깝다. 결국 반 정도 먹다가 복도의 쓰레기통에 버려버린다. 정말 맛이 없다.",
      "물어보기 1",
      "영화관 5",
      "공용공간 5",
    ]
  },
  {
    hour: 14, min: 30,
    scripts: [
      "개인 상담 시간까지는 대략 1시간 정도가 남아있다. 그 동안 시간을 때울 겸 모형 정원으로 향한다. 영화를 보기엔 시간이 부족하고 공용공간은 별로 당기지 않는다. 이 시설엔 창문도 없고 햇빛이 직접 들어오는 곳이 없기 때문에, 일광욕을 하고 싶으면 이 곳으로 간다. 자외선이 이 병에 좋지 않다는 것 같다. 모형정원은 2층에서 조금 걷다보면 나오니 나는 복도를 따라서 천천히 걷는다. 어느새 모형 정원 입구에 도착했다. 문을 열고 들어간다. 넓은 실내 공간이다. 천장이 높고, 인공 잔디가 바닥에 깔려있다. 여기저기 조형물과 벤치가 배치되어 있다. 천장에는 조명이 햇빛처럼 밝게 빛나고 있다. 실제 하늘은 아니지만 그래도 이곳에 오면 기분이 좋아진다. ",
      "영화관 6",
      "공용공간 6",
    ]
  },
  {
    hour: 17, min: 30,
    scripts: [
      "상담사가 고개를 끄덕인다. '그럼 만약 누군가 불법적인 방법으로 [정부를 반대:13-15:1:(메아리)]한다면요?' '음... 잘 모르겠습니다. 그런 경우가 있나요?' 이건 정말 모르겠다. 애초에 법에 대해서 잘 아는 바가 없다. 학교에서 가르치지 않는 내용 아닌가? 게다가 법을 어기면 어떻게 되는지에 대해선 대답할 수가 없었다. '모르시는게 당연합니다. 그건 우리 사회에 더이상 존재하지 않으니까요. 방금 문제는 역사를 전공하지 않았으면 맞추기 어려웠을 겁니다. 저는 매튜씨가 사회에서 무엇을 했는지에 대해 정보를 가지고 있지 않지만, 역사 전공은 아니었던 모양이네요.' 뭐야, 틀리라고 낸 문제잖아. 살짝 무안한 느낌이 든다. '성실히 대답해주셔서 감사합니다. 마지막으로 상황 판단 테스트입니다.' 상담사가 말한다. ",
    ]
  },
  {
    hour: 18, min: 15,
    scripts: [
      "카페테리아 중앙에 있는 4인 테이블 중 하나에 한 명만 앉아있는 곳이 보인다. 이름표를 보니 '제시'라는 젊은 여성이 앉아 있다. '여기 앉아도 될까요?' 내가 묻는다. 제시가 고개를 든다. '네, 그러세요.' 나는 그녀의 맞은 편에 앉는다. 나는 치킨 스테이크를 한입 먹는다. 부드럽고 맛있다. 제시는 맞은 편에서 조용하게 식사를 하고 있고, [방해하지 말아야겠다:18-30->1, 18-45->1, 19-00->1, 19-15->1]. 그나저나 이 치킨 스테이크 정말 맛있다. 소스 맛이 상당히 중독적이고 으깬 감자도 크리미 하다. 오늘 배식 된 식사 중에 가장 마음에 든다. 이 곳의 식사는 무료로 제공되는 것 치고 매우 질이 좋은 것 같다. 가만, 무료라니? 이 시설에 입원할 수 있는 건 무료 복지인가? 대부분의 병원은 건강 보험 때문에 국민이라면 누구나 무료로 이용할 수 있지만,",
    ]
  },
  {
    hour: 18, min: 30,
    scripts: [
      "숙식이 제공되는 이런 종류의 시설은 유지비가 꽤 나갈텐데, 이런 것도 중앙 정부에서 무료로 제공하는 복지인가. 아니면 나를 위해 외부에서 입원비를 내주는 사람이 있는 걸지도 모르겠다. 가족이라면 기쁠텐데. 그런 생각을 하며 조용히 식사를 하던 중, 의외로 제시가 먼저 말을 걸어온다. '저기, 매튜씨. B동에서 사시는 것 맞죠?' 어? 그걸 이 사람이 어떻게 알고 있지? '네, 맞아요. 어떻게 아셨어요?' '굳이 보려던건 아닌데, 오늘 개인 상담 신청 하셨잖아요. 제가 그 상담실 다음 차례였거든요. 대기자 명단에서 봤어요.' 그런 우연이 있다니. '그렇군요, 제시씨는 상담에서 어떤 얘기를 하셨나요? 저는 아이큐 테스트 같은 질문만 물어보던데.' 내가 화제를 이어받는다. ",
      "최소한의 대화 1"
    ]
  },
  {
    hour: 18, min: 45,
    scripts: [
      "'저는 밖에 나가고 싶다는 이야기를 했어요. 여기는 너무 지루하잖아요.' 제시가 말한다. 지루한건가. 나는 사실 잘 모르겠다. 여기는 식사도 맛있고, 즐길거리도 꽤 다양하다. 나에게는 복지적 측면에서 그리 안맞는다는 생각은 해본적이 없다. 다만 빨리 병이 나아서 퇴원하고 싶다는 생각이 있다. 아, 그리고 침대가 잘 익숙해지지 않는다는거. '영화를 보시는 건 어떤가요? 영화관에서 매일 다른 시리즈의 영화를 방영하는 것 같던데.'  '영화요? 그거 매일 달라지는게 아닐걸요. 어짜피 여기 사람들 3일 이상 기억하는 사람 없잖아요. 많아봤자 5개 정도 로테이션 돌리고 있을 것 같은데.' 제시가 어이 없다는 듯 말한다. 듣고보니 맞는 말이다. 이곳 사람들의 특성을 고려하면, 굳이 매일 다른 영화를 틀어줄 필요가 없긴 하지.",
      "최소한의 대화 2"
    ]
  },
  {
    hour: 19, min: 0,
    scripts: [
      "'그러게요. 그렇다면 영화관에서 나오는 영화도 상당히 오래전부터 안바뀌었을지도 모르겠네요.' '저는 여기가 갑갑해요. 여긴 창문도 없고, 티비도 없죠. 마치 외부 정보를 완전히 차단하고 있는 거 같다고요. 그냥 건망증 치료 시설이면 이렇게 까지 할 필요가 있어요?' 창문이 없는건 자외선을 차단하기 위해서지만, 티비가 없는건 확실히 이상하다. '그러고 보면 여기는 종이와 연필도 없네요. 잊고 싶지 않을 걸 기록할 수 있으면 좋을 텐데.' 제시가 맞장구 친다. '그러니까요! 상식적으로 말이 안되지 않나요? 이런 이상한 점에 로봇들은 말해줄 수 없다면서 회피하기만 해요.' '병이 나으면 퇴원할 수 있잖아요. 힘내요.' 제시는 잠깐 생각하는 것 같더니 말을 시작한다. '퇴원한 사람은 어디로 나가는 걸까요? 여기에 외부로 이어진 출구가 있나요?'",
      "최소한의 대화 3"
    ]
  },
  {
    hour: 19, min: 15,
    scripts: [
      "그러고 보니 매일 아침 퇴원자가 있다고 발표하는 것만 들었지, 밤 중에 어디로 퇴원하는지는 생각해 본 적이 없다. '병이 나았는데 환자와 다시 접촉하면 재감염 될 위험이 있어서 비밀리에 몰래 나가는 거 아닐까요?' '그렇게 쉽게 재감염될 병이라면 이런 시설에 모아두는게 이상하죠. 각자 격리 시키는게 효과적일텐데.' 제시는 계속 내 허를 찌르는 말을 한다. '제 생각인데, 아마도 각 환자의 방에 어떤 통로가 있어서, 그 쪽을 통해 빠져나갈 수 있는 것 같아요. 저는 린넨슈트가 신경쓰이네요.' '린넨 슈트요? 빨래 넣는 구멍 말씀하시는 건가요?' 생활복이 더러워졌을 때, 그곳으로 던지면 나중에 세탁해서 간호사 로봇이 가져다 준다. '거기가 아니면 외부로 통하는 길 자체가 없는 걸요. 어떻게 잘 기어들어가면 사람 한명 정도는 드나들 수 있을 것 같기도 하고.'  ",
      "최소한의 대화 4"
    ]
  },
  {
    hour: 19, min: 30,
    scripts: [
      "제시와 이런 저런 이야기를 나누다 보니, 이미 식판은 비어있었다. 슬슬 정리해야지. '재밌는 얘기였어요. 여기 시설에는 생각해 볼 거리가 많은 것 같네요. 나중에 또 이야기 할 수 있으면 해요.' 제시와 가볍게 인사한 뒤, 나는 퇴식구에 빈 식판을 두고, 복도로 나온다. 오후 점호까지는 꽤 시간이 남아있는데, 점심 자유시간에 하지 못했던 것들을 해볼 수 있을 것 같다. 매점을 가거나, 영화를 보거나, 공용 공간에 가거나. 그럼 점심에 매점에 갔으니 이번엔 공용 공간에 가볼까. 나는 계단을 올라서 2층 복도를 따라 걷기 시작한다. 점심 자유 시간에 비해 사람들이 복도에도 많이 없고 한적하다. 방에 돌아가서 휴식을 취하고 있는 것 같다. 공용 공간에 도착하자, 안쪽에서 탁구를 치는 사람들을 볼 수 있다.",
      "매점 1-1",
      "매점 1-2",
    ]
  },
  {
    hour: 19, min: 45,
    scripts: [
      "나는 딱히 탁구에 관심이 없어서, 그냥 가장자리에 위치한 쇼파에 앉아서 2명에서 탁구 하는 것을 지켜본다. 내기를 하는 것 같다. 격하게 움직이고 있어서 이름표는 보이지 않지만, 그들은 꽤 진지하게 치고 있는 것 같다. 공이 탁탁 소리를 내며 테이블 위를 오간다. 마른 남자가 스매싱을 친다. 공이 빠르게 날아가고 상대방이 받아내며 랠리가 이어진다. 이윽고 뚱뚱한 남자가 받아내는데 실수해서 공이 테이블 밖으로 튕겨나간다. 마른 남자가 웃는다. 몇 분 후에 경기가 끝난다. 마른 남자의 승리. 대화를 들어보니 뚱뚱한 남자는 매점 간식을 사줘야 하는 것 같다. 둘은 웃으며 무언가 이야기를 나눈다. 구경하던 경기도 끝났으니, 나도 슬슬 방으로 돌아간다.",
      "매점 2-1, [접선 관련 트리거:20-00->3, 20-45->2 #CLUE_A]",
      "매점 2-2, 접선 실패"
    ]
  },
  {
    hour: 20, min: 0,
    scripts: [
      "공용 공간을 나와 복도를 걷는다. 내 방은 B동 210호다. 계단을 내려가서 복도를 따라간다. 조용하다. 대부분의 환자들이 방에 있는 것 같다. 나도 내 방인 B동 210호에 도착한다. 문을 열고 안으로 들어가자 작은 방에 침대 하나, 책상 하나, 의자 하나가 있다. 원래 별로 신경 쓰지 않았지만 린넨 슈트 구멍도 보인다. 사람이 쉽게 드나들 수 있을 것 같지는 않은데. 나는 책상 위의 태블릿을 집어든다. 시설에서 제공하는 전자책 리더기이다. 책을 읽을 수 있다! 나는 의자에 앉아서 점호 전까지 책을 읽기로 한다. 태블릿 화면에 책 목록이 뜬다. 여러 장르의 책들이 있다. 소설, 에세이, 역사, 과학. 나는 소설 카테고리를 선택한다. 제목들을 훑어본다. '잃어버린 시간을 찾아서', '1984', '멋진 신세계' 등등 클래식한 제목들이다.",
      "매점 3-1",
      "매점 3-2",
      "접선 성공. 드릴 받음.",
    ]
  },
  {
    hour: 20, min: 15,
    scripts: [
      "분명 이 책들이 상식의 영역에 속할 정도로 유명한 것들이라는건 알고 있다. 그러나 내용이 전혀 기억나지 않는다. 읽었다는 기억, 그 내용은 '상식'의 범주에 포함되지 않는 걸까? 건망증의 기준은 정말 이상하다. 그래도 덕분에 지루하지는 않다. 책을 읽어도 몇일 후에는 내용을 까먹기 때문에 완전히 새로운 기분으로 다시 읽을 수 있으니, 오히려 좋은 것 아닐까? 긍정적으로 생각하자면 그렇다. 책이 열린다. 첫 페이지를 읽기 시작한다. '4월의 맑고 추운 날이었다. 시계가 열세 시를 치고 있었다...' 주인공 윈스턴이 등장한다. 그는 빅 브라더가 통치하는 사회에 살고 있다. 모든 것이 감시받는 사회. 윈스턴은 일기를 쓴다. 금지된 행위다. 그는 체제에 반항하고 싶어한다. 이런 곳에서 사는 사람들은 갑갑하겠군.",
      "매점 4-1. 매점 갔다가 책 읽음",
      "매점 4-2. ",
    ]
  },
  {
    hour: 20, min: 30,
    scripts: [
      "이야기가 흥미롭다. 윈스턴은 '사상경찰'을 두려워한다. 생각만으로도 범죄가 되는 사회. 이런 종류의 소설은 디스토피아 소설로 분류되는 것 같다. 집필 당시 먼 미래였던 1984년의 사회 모습을 작가가 상상한 것이다. 그리고 그 사회의 모습은 긍정적으로 그려지지 않는다. 조지 오웰 때 부터 1984년 까지의 시간 간격보다 1984년부터 내가 지금 살고 있는 시대의 시간 간격이 몇배는 더 길지만, 지금이 그런 갑갑한 사회가 되지 않은게 다행이다. AI에 의한 통치는 어찌보면 독재지만, 그래도 1984의 이런 모습 보다는 훨씬 낫다고 생각한다. 기술적 특이점이 발생한 이후 사람들은 더 이상 노동을 할 필요가 없었다. 노동에 의한 가치 창출 보다 자동으로 생성되는 가치가 더 컸으니까.",
      "매점 5-1 매점 갔다가 책 읽음",
      "매점 5-2",
    ]
  },
  {
    hour: 20, min: 45,
    scripts: [
      "어떤 대기업에서 강인공지능을 발명한게 (트리거:20-45->1, 21-00->1, 21-15->1, 21-30->1, 21-45->1, 22-00->1, 22-15->1)가 되어서 10년도 안되어 모든 직업이 그 가치를 잃었다. 모두가 한번에 실업자가 되었더니 오히려 사회적 혼란이 덜 했다. 그래서 다들 음악을 만들거나 소설을 쓰거나 예술 활동을 하기 시작했다. 나라와 사회는 인간보다 더 똑똑한 컴퓨터가 가장 효율적인 방식으로 운영해주고 인간들은 그 시스템 안에서 행복하게 살기만 하면 되는 거였다. 그러자 세상의 모든 범죄가 사라졌다. 과거에는 법이라는게 존재했던 모양이지만 현대엔 학교에서도 그게 뭔지 알려주지 않는다. 애초에 어길 일이 없는 규칙이 왜 필요하겠는가? 사람들은 완전한 유토피아를 만들어 냈고, 그 방식도 폭력적이지 않은 방법으로, 순응하듯 이루어졌다.",
      "엔딩 2-1. 기억 O, 탈출조건 X",
      "엔딩 3-1. 기억 X, 탈출조건 O",
      "엔딩 4-1. 기억 O. 탈출조건 O"
    ],
    conditionTriggers: [
      {
        required: ['CLUE_B','CLUE_C'],
        index: 1
      },
      {
        required: ['CLUE_A'],
        index: 2
      },
      {
        required: ['CLUE_A','CLUE_B', 'CLUE_C'],
        index: 3
      }
    ]
  },
  {
    hour: 21, min: 0,
    scripts: [
      "책을 읽다 보니 어느새 9시가 가까워졌다. 태블릿을 끄고 책상 위에 놓는다. 곧 야간 점호 시간이다. 나는 방문을 열고 복도로 나간다. 다른 환자들도 하나둘 방에서 나오고 있다. 모두 복도에 줄지어 선다. 매일 저녁의 풍경이다. 간호사 로봇들이 양쪽 끝에서 다가온다. 손에 작은 종이컵들을 들고 있다. 약이 들어있다. 줄을 따라 한 명씩 약을 나눠준다. 내 앞사람이 약을 받아 삼킨다. 이제 내 차례다. 간호사 로봇이 내 앞에 선다. 컵을 건넨다. 작은 알약 세 개가 들어있다. '드세요, 매튜님. 뇌 기능 개선에 도움이 됩니다.' 로봇이 말한다. 알약을 안먹으면 건망증이 심해질 수 있다. 약을 받고 나서 주머니에 넣는다.  '안녕히 주무세요, 매튜님. 내일도 좋은 하루 되세요.' 로봇이 미소 짓는다. 디스플레이에 표시된 미소다. 로봇은 다음 환자에게로 간다.",
      "엔딩 2-2. 기억 O, 탈출조건 X",
      "엔딩 3-2. 기억 X, 탈출조건 O",
      "엔딩 4-2. 기억 O. 탈출조건 O"
    ],
    conditionTriggers: [
      {
        required: ['CLUE_B','CLUE_C'],
        index: 1
      },
      {
        required: ['CLUE_A'],
        index: 2
      },
      {
        required: ['CLUE_A','CLUE_B', 'CLUE_C'],
        index: 3
      }
    ]
  },
  {
    hour: 21, min: 15,
    scripts: [
      "점호가 끝나고 환자들이 각자 방으로 돌아간다. 나도 210호로 들어간다. 문을 닫고 생활복을 벗고 침대 옆 의자에 걸쳐둔다. 받았던 알약을 물과 함께 삼키고 침대에 눕는다. 천장을 본다. 하얀 천장. 무드등의 은은한 불빛. 오늘 하루가 지나갔다. 내일이면 오늘의 많은 것들을 잊어버릴까? 3일은 기억한다고 했으니, 오늘 일은 모레까지는 기억할 수 있겠지. 오늘 밥을 먹은 것, 작업을 한 것, 또 자유시간을 보내고 상담을 한 내용, 그 밖에 있었던 일들 그 모든 것이 3일 동안 기억이 난다. 그 이후는 흐릿해질 것이다. 눈을 감는다. 하지만 잘 잠이 오지 않는다. 머릿속에 생각들이 맴돈다. 기억이란 게 이상하다. 어떤 건 기억나고 어떤 건 기억나지 않는다. 왜 그럴까?",
      "엔딩 2-3. 기억 O, 탈출조건 X",
      "엔딩 3-3. 기억 X, 탈출조건 O",
      "엔딩 4-3. 기억 O. 탈출조건 O"
    ],
    conditionTriggers: [
      {
        required: ['CLUE_B','CLUE_C'],
        index: 1
      },
      {
        required: ['CLUE_A'],
        index: 2
      },
      {
        required: ['CLUE_A','CLUE_B', 'CLUE_C'],
        index: 3
      }
    ]
  },
  {
    hour: 21, min: 30,
    scripts: [
      "예를 들어, 나는 젓가락질을 할 줄 안다. 언제 배웠는지는 모르지만 할 줄 안다. 체스 규칙도 안다. 피타고라스 정리도 안다. 중앙 AI 위원회가 통치한다는 것도 안다. 이런 것들은 '상식'이라고 불리는 것들이다. 절차적 기억이나 의미 기억. 하지만 나는 내가 누구인지 모른다. 어디서 왔는지 모른다. 가족이 있는지 모른다. 무슨 일을 했는지 모른다. 이런 것들은 '에피소드 기억'이라고 불린다. 구체적이고 개인적인 경험. 건망증은 에피소드 기억을 지우는 병이다. 하지만 상식은 남긴다. 왜? 어떻게? 그렇다면... 만약 어떤 기억을 '상식'처럼 만들 수 있다면? 개인적 기억을 일반적 지식처럼 저장할 수 있다면? 어떤 개인적 기억을 상식과 같은 매커니즘으로 [뇌에 저장하는 방법:20-45:0:(트리거)]이 뭘까?",
      "엔딩 2-4. 기억 O, 탈출조건 X",
      "엔딩 3-4. 기억 X, 탈출조건 O",
      "엔딩 4-4. 기억 O. 탈출조건 O"
    ],
    conditionTriggers: [
      {
        required: ['CLUE_B','CLUE_C'],
        index: 1
      },
      {
        required: ['CLUE_A'],
        index: 2
      },
      {
        required: ['CLUE_A','CLUE_B', 'CLUE_C'],
        index: 3
      }
    ]
  },
  {
    hour: 21, min: 45,
    scripts: [
      "만약 특정 단어나 감각에 기억을 연결시켜둔다면? 그 단어를 '상식'처럼, 절차적 기억처럼 뇌에 각인시켜둔다면? 예를 들어, 식사를 하기 위해 젓가락을 들 때 손이 자동으로 움직여서 자세를 취한다. 생각하지 않아도 자연스럽게. 그 젓가락을 잡는 감각을 기억하기 때문에 그 이후의 행동이 절차적으로 따라 온 것이다. 그렇다면 절차적 기억을 강제로 만드는 훈련법이 존재할까? 정말 잊고 싶지 않은 기억을 건망증에 걸려도 기억하고 싶을 때, 그걸 머릿속에서 '상식'으로 바꿔 둘 수 있을까? 잠시 방법을 생각해본다. 파블로프의 개. 고전적 조건형성에 대한 실험이다. 물리적인 자극을 통해서 어떤 특정 단어에 대한 이후 절차를 강제로 각인 시키면 되지 않을까?",
      "엔딩 2-5. 기억 O, 탈출조건 X",
      "엔딩 3-5. 기억 X, 탈출조건 O",
      "엔딩 4-5. 기억 O. 탈출조건 O"
    ],
    conditionTriggers: [
      {
        required: ['CLUE_B','CLUE_C'],
        index: 1
      },
      {
        required: ['CLUE_A'],
        index: 2
      },
      {
        required: ['CLUE_A','CLUE_B', 'CLUE_C'],
        index: 3
      }
    ]
  },
  {
    hour: 22, min: 0,
    scripts: [
      "특정 단어를 어떤 기억에 연결 시키기 위한 훈련법... 그걸 만들 수 있다면, 또한 모든 기억을 그 한단어에 저장하여서 매 순간 그 단어를 떠올린다면, 이론적으로 건망증은 이겨낼 만한 것 아닐까? 하하, 바이러스를 생각 만으로 무찌를 수 있다니, 너무 허무맹랑한가. 이에 대한 구체적인 방법은 내일 일어나서 생각해봐야겠다. 내 기억은 영원하지 않으니 이것도 몇일이 지나면 까먹겠지. 자기 전에 하는 기억들은 더 쉽게 잊어버리니까 당장 내일 아침에도 내가 이런 고민을 했다는 것 조차 기억나지 않을 수도 있다. 그러나 내가 할 수 있는건 없다... 지금은... 그냥 자야한다. 잠이 쏟아지네. 천천히 눈꺼풀이 무거워진다. 의식이 흐려진다. 이윽고 어둠이 찾아온다.",
      "엔딩 2-6. 기억 O, 탈출조건 O",
      "엔딩 3-6. 기억 X, 탈출조건 O",
      "엔딩 4-6. 기억 O. 탈출조건 O"
    ],
    conditionTriggers: [
      {
        required: ['CLUE_B','CLUE_C'],
        index: 1
      },
      {
        required: ['CLUE_A'],
        index: 2
      },
      {
        required: ['CLUE_A','CLUE_B', 'CLUE_C'],
        index: 3
      }
    ]
  }
]

/* 3. 데이터 전처리 (자동 정렬 및 ID 생성) */
setup.processTimeline = function() {
  const startObj = setup.timelineStartConf;
  const startMinutes = startObj.hour * 60 + startObj.min;

  // 데이터 가공
  setup.timeline = setup.rawTimeline.map(item => {
    // 하루 기준 절대 분 계산 (시계 표시에 사용)
    const totalMinutes = item.hour * 60 + item.min;
    
    // 고유 ID 생성 (Format: HH-mm) -> 링크용
    const timeId = `${setup.pad(item.hour)}-${setup.pad(item.min)}`;
    
    // 정렬용 타임스탬프 (하루 기준, 분 단위)
    const sortTime = totalMinutes;

    return {
      ...item,
      totalMinutes: totalMinutes, // 시계 계산용
      timeId: timeId,             // 링크 연결용 ID
      dateText: '',               // 날짜 텍스트 (사용 안 함)
      sortTime: sortTime          // 정렬용 타임스탬프
    };
  });

  // 시간순 정렬
  setup.timeline.sort((a, b) => a.sortTime - b.sortTime);
};

// 실행
setup.processTimeline();